/*
 * This file was generated by the Gradle 'init' task.
 *
 * The settings file is used to specify which projects to include in your build.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user manual at https://docs.gradle.org/6.8.3/userguide/multi_project_builds.html
 */

pluginManagement {
  includeBuild('build-tools/scripts')
}

rootProject.name = 'spring-boot-data-gemfire'

FileTree buildFiles = fileTree(rootDir) {
  include '**/*.gradle'
  exclude '/build.gradle', 'settings.gradle', '**/gradle', 'buildSrc', '.*'
}

String rootDirPath = rootDir.absolutePath + File.separator

buildFiles.each { File buildFile ->

  boolean isDefaultName = 'build.gradle'.equals(buildFile.name)

  if (isDefaultName) {

    String buildFilePath = buildFile.parentFile.absolutePath
    String projectPath = buildFilePath.replace(rootDirPath, '').replaceAll(File.separator, ':')

    include projectPath
  } else {

    String projectName = buildFile.name.replace('.gradle', '');
    String projectPath = ':' + projectName;

    include projectPath

    def project = findProject("${projectPath}")

    project.name = projectName
    project.projectDir = buildFile.parentFile
    project.buildFileName = buildFile.name
  }
}

include 'spring-gemfire'
include 'spring-gemfire-autoconfigure'
include 'spring-gemfire-extensions'
include 'spring-gemfire-starter'
include 'spring-gemfire-parent'
include 'spring-gemfire-actuator'
include 'spring-gemfire-actuator-autoconfigure'
include 'spring-gemfire-starter-logging'
include 'spring-gemfire-starter-session'

